(function(s,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(s=typeof globalThis<"u"?globalThis:s||self,i(s["animate-loading"]={}))})(this,function(s){"use strict";const i={overlay:null,thickness:"3px",color:"gray",startDuration:1e3,finishDuration:300};class l{constructor(e=document.body,t={}){this.options=Object.assign({},i,t),this.target=e,this.overlay=this.options.overlay,this.setLoadingData()}setLoadingData=()=>{const{target:e,options:{startDuration:t,finishDuration:a,thickness:n,color:o}}=this;e.style.setProperty("--al-thickness",` ${n}`),e.style.setProperty("--al-color",` ${o}`),e.style.setProperty("--al-start-duration",` ${t}ms`),e.style.setProperty("--al-finish-duration",` ${a}ms`)};start=()=>{this.target.classList.add("al-loading-bar","start","loading"),this.overlay&&this.overlay.classList.add("al-loading-overlay","overlay-show")};finish=(e=()=>{})=>{const{target:t,overlay:a,cleanUp:n,options:{finishDuration:o}}=this,r=window.getComputedStyle(t,":before").width;t.style.setProperty("--al-end-width",r),t.classList.add("loaded"),t.classList.remove("loading"),window.requestAnimationFrame(()=>{t.classList.add("finished"),this.overlay&&a.classList.remove("overlay-show")}),setTimeout(n,o*2),setTimeout(e,o)};cleanUp=()=>{this.target.classList.remove("al-loading-bar","start","loaded","finished"),this.overlay&&this.overlay.classList.remove("al-loading-overlay")}}s.default=l,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
