(function(e,i){typeof exports=="object"&&typeof module<"u"?module.exports=i():typeof define=="function"&&define.amd?define(i):(e=typeof globalThis<"u"?globalThis:e||self,e["animate-loading"]=i())})(this,function(){"use strict";const e={overlay:null,thickness:"3px",color:"gray",startDuration:1e3,finishDuration:300};class i{constructor(s=document.body,t={}){this.options=Object.assign({},e,t),this.target=s,this.overlay=this.options.overlay,this.setLoadingData()}setLoadingData=()=>{const{target:s,options:{startDuration:t,finishDuration:a,thickness:n,color:o}}=this;s.style.setProperty("--al-thickness",` ${n}`),s.style.setProperty("--al-color",` ${o}`),s.style.setProperty("--al-start-duration",` ${t}ms`),s.style.setProperty("--al-finish-duration",` ${a}ms`)};start=()=>{this.target.classList.add("al-loading-bar","start","loading"),this.overlay&&this.overlay.classList.add("al-loading-overlay","overlay-show")};finish=(s=()=>{})=>{const{target:t,overlay:a,cleanUp:n,options:{finishDuration:o}}=this,r=window.getComputedStyle(t,":before").width;t.style.setProperty("--al-end-width",r),t.classList.add("loaded"),t.classList.remove("loading"),window.requestAnimationFrame(()=>{t.classList.add("finished"),this.overlay&&a.classList.remove("overlay-show")}),setTimeout(n,o*2),setTimeout(s,o)};cleanUp=()=>{this.target.classList.remove("al-loading-bar","start","loaded","finished"),this.overlay&&this.overlay.classList.remove("al-loading-overlay")}}return i});
